(function(){angular.module("bc.angular-models",["bc.capitalize","bc.account-resource","bc.order-info","bc.user-account-info","bc.error-message","bc.transaction-info"])}).call(this),function(){angular.module("bc.capitalize",[]).filter("capitalize",function(){return function(a){var b;return null==a&&(a=""),b="","string"==typeof a?b=a.charAt(0).toUpperCase()+a.slice(1):a===!0?b="True":a===!1&&(b="False"),b}})}.call(this),function(){angular.module("bc.account-resource",[]).service("AccountResource",function(){var a,b;return b=function(){function a(a,b,c,d,e,f,g){this.verificationType=null!=a?a:"",this.fileName=null!=b?b:"",this.docType=null!=c?c:"",this.docId=null!=d?d:"",this.docStatus=null!=e?e:"",this.userDisplayName=null!=f?f:"",this.email=null!=g?g:""}return a}(),a=function(){function a(a,b,c,d,e,f,g){var h;this._id=null!=a?a:"",this.accountId=null!=b?b:"",this.awsKey=null!=c?c:"",this.createdAt=null!=d?d:"",this.verifiedAt=null!=e?e:"",this.failedStep=null!=f?f:"",this.resourceInfo=g,this.actionStatus="pending"===this.resourceInfo.docStatus?this.resourceInfo.docStatus+"-"+this.resourceInfo.verificationType:this.resourceInfo.docStatus,h=""===this.resourceInfo.fileName,this.imgResource=!h&&-1===this.resourceInfo.fileName.indexOf(".pdf"),this.pdfResource=!h&&-1!==this.resourceInfo.fileName.indexOf(".pdf"),this.identity="identity"===this.resourceInfo.verificationType,this.residency="residency"===this.resourceInfo.verificationType,this.pending="pending"===this.resourceInfo.docStatus,this.approved="approved"===this.resourceInfo.docStatus,this.denied="denied"===this.resourceInfo.docStatus||"denied-final"===this.resourceInfo.docStatus,this.verified=this.approved||this.denied,this.displayStatus="pending"===this.resourceInfo.docStatus?"Pending":"approved"===this.resourceInfo.docStatus?"Approved":"denied"===this.resourceInfo.docStatus?"Denied":"denied-final"===this.resourceInfo.docStatus?"Denied (Final)":"Unknown"}return a}(),{FromMessage:function(c){var d,e;return d=null!=c?c.resourceInfo:void 0,e=new b(null!=d?d.verificationType:void 0,null!=d?d.fileName:void 0,null!=d?d.docType:void 0,null!=d?d.docId:void 0,null!=d?d.docStatus:void 0,null!=d?d.userDisplayName:void 0,null!=d?d.email:void 0),new a(null!=c?c._id:void 0,null!=c?c.accountId:void 0,null!=c?c.awsKey:void 0,null!=c?c.createdAt:void 0,null!=c?c.verifiedAt:void 0,null!=c?c.failedStep:void 0,e)}}})}.call(this),function(){angular.module("bc.error-message",[]).service("ErrorMessage",function(){var a,b,c;return c=function(){function a(a){this.errorType="Item",this.errorMessage=a,this.toString=function(){return this.errorMessage}}return a}(),b=function(){function a(a,b){null==a&&(a=""),null==b&&(b=[]),this.errorType="Field",this.errorMessages=b,this.errorFieldId=a.split("/").pop()||"",this.toString=function(){return this.errorMessages.join(", ")}}return a}(),a=function(){function a(b){this.request=(null!=b?b.request:void 0)||{},this.errors=a.ParseErrors(null!=b?b.errors:void 0)||[]}return a.ParseErrors=function(a){var d;return d=[],angular.forEach(a,function(d){return"string"==typeof d?this.push(new c(d)):"object"==typeof a?angular.forEach(d,function(a,c){return this.push(new b(c,a))},this):void 0},d),d},a}(),{FromMessage:function(b){return new a(b)}}})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("bc.order-info",[]).service("OrderInfo",function(){var b,c;return c={Upsert:function(a,c){return a?(a.set_status(c.order.status),a.history=_(a.history||[]).concat({event:c.order.status,timestamp:(new Date).getTime}),a):b.FromMessage(c)}},b=function(){function b(b,c,d,e,f,g,h,i){this.id=b,this.accountId=c,this.offered=d,this.received=e,this.orderType=f,this.status=g,this.timestamp=h,this.history=i,this.set_status=a(this.set_status,this),this.original_offered=this.offered,this.original_received=this.received}return b.prototype.set_status=function(a){return this.status=a,"reopened"===(null!=a?a.status:void 0)?(this.status="reopened",this.offered=a.offered,this.received=a.received):(this.offered=this.original_offered,this.received=this.original_received)},b.FromMessage=function(a){var d,e,f;return d=a.order,e=d.status,"reopened"===(null!=(f=d.status)?f.status:void 0)&&(e="reopened"),d=new b(d.id,d.accountId,d.offered,d.received,d.order_type,e,d.timestamp,a._history),c.Upsert(d,a)},b}.call(this),c})}.call(this),function(){angular.module("bc.transaction-info",[]).service("TransactionInfo",function(){var a,b;return b={Upsert:function(b,c){return b?(b.status=c.status,b.history=_(b.history||[]).concat({event:c.status,timestamp:(new Date).getTime}),b):a.FromMessage(c)}},a=function(){function a(a,b,c,d,e,f){this.id=a,this.type=b,this.fundingSourceId=c,this.orderType=d,this.status=e,this.history=f}return a.FromMessage=function(c){var d;return d=new a(c._id,c._type,c.fundingSourceId,c.amount,c.status,c._history),b.Upsert(d,c)},a}.call(this),b})}.call(this),function(){angular.module("bc.user-account-info",["bc.account-resource"]).service("UserAccountInfo",function(a){var b,c,d;return b=function(){function a(a,b,c,d,e,f){this.addressLine1=null!=a?a:"",this.addressLine2=null!=b?b:"",this.city=null!=c?c:"",this.region=null!=d?d:"",this.zipCode=null!=e?e:"",this.country=null!=f?f:""}return a.prototype.toString=function(){var a;return a=this.addressLine1,""!==this.addressLine2&&(a=a+" "+this.addressLine2),a+" "+this.city+" "+this.region+" "+this.zipCode},a.FromMessage=function(b){return new a(null!=b?b.addressLine1:void 0,null!=b?b.addressLine2:void 0,null!=b?b.city:void 0,null!=b?b.region:void 0,null!=b?b.zipCode:void 0,null!=b?b.country:void 0)},a}(),d=function(){function a(a,b,c,d,e,f){this.firstName=null!=a?a:"",this.middleName=null!=b?b:"",this.lastName=null!=c?c:"",this.dateOfBirth=null!=d?d:"",this.birthCountry=null!=e?e:"",this.residencyAddress=f}return a.prototype.day=function(){var a;return a=moment(this.dateOfBirth),(null!=a?a.date():void 0)||""},a.prototype.year=function(){var a;return a=moment(this.dateOfBirth),(null!=a?a.year():void 0)||""},a.prototype.month=function(){var a;return a=moment(this.dateOfBirth),(null!=a?a.format("MMM"):void 0)||""},a.prototype.displayDateOfBirth=function(){var a;return a=moment(this.dateOfBirth),(null!=a?a.format("MM/DD/YYYY"):void 0)||""},a.FromMessage=function(c){var d;return d=b.FromMessage(null!=c?c.residencyAddress:void 0),new a(null!=c?c.firstName:void 0,null!=c?c.middleName:void 0,null!=c?c.lastName:void 0,null!=c?c.dateOfBirth:void 0,null!=c?c.birthCountry:void 0,d)},a}(),c=function(){function a(a,b){this.userDetails=a,this.accountResources=null!=b?b:[],this.ensureVerificationStatus()}return a.prototype.ensureVerificationStatus=function(){return this.idApproved=_.reduce(this.accountResources,function(a,b){return a||b.identity&&b.approved},!1),this.idPending=!this.idApproved&&_.reduce(this.accountResources,function(a,b){return a||b.identity&&b.pending},!1),this.idDenied=!this.idApproved&&!this.idPending&&_.reduce(this.accountResources,function(a,b){return a||b.identity&&b.denied},!1),this.idUnverified=!this.idApproved&&!this.idPending&&!this.idDenied,this.residencyApproved=_.reduce(this.accountResources,function(a,b){return a||b.residency&&b.approved},!1),this.residencyPending=!this.residencyApproved&&_.reduce(this.accountResources,function(a,b){return a||b.residency&&b.pending},!1),this.residencyDenied=!this.residencyApproved&&!this.residencyPending&&_.reduce(this.accountResources,function(a,b){return a||b.residency&&b.denied},!1),this.residencyUnverified=!this.residencyApproved&&!this.residencyPending&&!this.residencyDenied,this.verified=this.idApproved&&this.residencyApproved,this.unverified=this.idUnverified||this.residencyUnverified,this.denied=!this.unverified&&(this.idDenied||this.residencyDenied),this.pending=!this.verified&&!this.unverified&&!this.denied,this.displayVerificationStatus=this.verified?"Verified":this.pending?"Pending":this.denied?"Denied":"Unverified"},a.prototype.addAccountResource=function(a){return this.accountResources.push(a),this.ensureVerificationStatus()},a.prototype.displayName=function(){return this.userDetails.firstName+" "+this.userDetails.lastName},a.prototype.fullName=function(){return""===this.userDetails.middleName?this.displayName():this.userDetails.firstName+" "+this.userDetails.middleName+" "+this.userDetails.lastName},a}(),{FromMessage:function(b){var e,f;return f=d.FromMessage(null!=b?b.userDetails:void 0),e=_.map((null!=b?b.accountResources:void 0)||[],function(b){return a.FromMessage(b)}),new c(f,e)},Empty:function(){return this.FromMessage()}}})}.call(this);