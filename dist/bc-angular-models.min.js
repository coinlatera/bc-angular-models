(function(){angular.module("bc.angular-models",["bc.access-level","bc.account-resource","bc.admin-account-info","bc.admin-role","bc.error-message","bc.logger","bc.order-info","bc.market-info","bc.trade-fee","bc.transaction-info","bc.transaction-limit","bc.user-account-info","bc.user-account-settings"])}).call(this),function(){angular.module("bc.access-level",["bc.admin-role"]).service("AccessLevel",["AdminRole",function(a){var b,c;return b=function(){function b(b){this.value=null!=b?b:c.AccessLevel.InvalidAccessLevel,this.displayAccessLevel=this.value===c.AccessLevels.InvalidAccessLevel?"Invalid Access Level":this.value===c.AccessLevels.RestrictedOnly?"Restricted Only":this.value===c.AccessLevels.StandardOnly?"Standard Only":this.value===c.AccessLevels.AdminOnly?"Admin Only":this.value===c.AccessLevels.SuperOnly?"Super Only":this.value===c.AccessLevels.SuperOrAbove?"Super or Above":this.value===c.AccessLevels.AdminOrAbove?"Admin or Above":this.value===c.AccessLevels.StandardOrAbove?"Standard or Above":this.value===c.AccessLevels.Unrestricted?"Unrestricted":"Unknown Access Level",this.allowedRole=function(a){return this.value&a.value},this.displayAllowedRoles=function(){var b,c=this;return b=[],angular.forEach(a.Roles,function(a){return c.allowedRole(a)?b.push(a.displayRole):void 0}),0===b.length?"None":b.join(", ")}}return b}(),c={AccessLevels:{InvalidAccessLevel:a.RoleValues.InvalidUserRoleValue,RestrictedOnly:a.RoleValues.RestrictedUserRoleValue,StandardOnly:a.RoleValues.StandardUserRoleValue,AdminOnly:a.RoleValues.AdminUserRoleValue,SuperOnly:a.RoleValues.SuperUserRoleValue},FromAccessLevelValue:function(a){return new b(a)}},c.AccessLevels.SuperOrAbove=c.AccessLevels.SuperOnly,c.AccessLevels.AdminOrAbove=c.AccessLevels.SuperOrAbove|c.AccessLevels.AdminOnly,c.AccessLevels.StandardOrAbove=c.AccessLevels.AdminOrAbove|c.AccessLevels.StandardOnly,c.AccessLevels.Unrestricted=c.AccessLevels.StandardOrAbove|c.AccessLevels.RestrictedOnly,c}])}.call(this),function(){angular.module("bc.account-resource",[]).service("AccountResource",function(){var a,b,c,d;return d=function(){function a(a,b,c,d,e,f,g){this.verificationType=null!=a?a:"",this.fileName=null!=b?b:"",this.docType=null!=c?c:"",this.docId=null!=d?d:"",this.docStatus=null!=e?e:"",this.userDisplayName=null!=f?f:"",this.email=null!=g?g:""}return a}(),b=["Document is not an allowed ID type","Document is not in full color","Document has been modified","Document is not clearly legible","Document is no longer current or valid","Document doesn't match personal details"],c=["Document is not accepted document type","Document has been modified","Document is not clearly legible","Document is no longer current or valid","Document doesn't match residency details"],a=function(){function a(a,d,e,f,g,h,i){var j;this._id=null!=a?a:"",this.accountId=null!=d?d:"",this.awsKey=null!=e?e:"",this.createdAt=null!=f?f:"",this.verifiedAt=null!=g?g:"",this.failedStep=null!=h?h:"",this.resourceInfo=i,this.actionStatus="pending"===this.resourceInfo.docStatus?this.resourceInfo.docStatus+"-"+this.resourceInfo.verificationType:this.resourceInfo.docStatus,j=""===this.resourceInfo.fileName,this.imgResource=!j&&-1===this.resourceInfo.fileName.indexOf(".pdf"),this.pdfResource=!j&&-1!==this.resourceInfo.fileName.indexOf(".pdf"),this.identity="identity"===this.resourceInfo.verificationType,this.residency="residency"===this.resourceInfo.verificationType,this.pending="pending"===this.resourceInfo.docStatus,this.approved="approved"===this.resourceInfo.docStatus,this.denied="denied"===this.resourceInfo.docStatus||"denied-final"===this.resourceInfo.docStatus,this.deniedFinal="denied-final"===this.resourceInfo.docStatus,this.verified=this.approved||this.denied,this.displayStatus="pending"===this.resourceInfo.docStatus?"Pending":"approved"===this.resourceInfo.docStatus?"Approved":"denied"===this.resourceInfo.docStatus?"Denied":"denied-final"===this.resourceInfo.docStatus?"Denied (Final)":"Unknown",this.displayErrorMessage=(this.identity?b[this.failedStep]:c[this.failedStep])||""}return a}(),{FromMessage:function(b){var c,e;return c=null!=b?b.resourceInfo:void 0,e=new d(null!=c?c.verificationType:void 0,null!=c?c.fileName:void 0,null!=c?c.docType:void 0,null!=c?c.docId:void 0,null!=c?c.docStatus:void 0,null!=c?c.userDisplayName:void 0,null!=c?c.email:void 0),new a(null!=b?b._id:void 0,null!=b?b.accountId:void 0,null!=b?b.awsKey:void 0,null!=b?b.createdAt:void 0,null!=b?b.verifiedAt:void 0,null!=b?b.failedStep:void 0,e)}}})}.call(this),function(){angular.module("bc.admin-account-info",["bc.admin-role"]).service("AdminAccountInfo",["AdminRole",function(a){var b,c;return c=function(){function a(a,b){this.givenName=null!=a?a:"",this.familyName=null!=b?b:""}return a}(),b=function(){function a(a,b,c,d,e){this._id=null!=a?a:"",this.displayName=null!=b?b:"",this.email=null!=c?c:"",this.role=d,this.name=e,this.displayRole=this.role.displayRole}return a}(),{FromMessage:function(d){var e,f,g,h;return f=a.FromRoleValue(null!=d?d.role:void 0),e=new c(null!=d?null!=(g=d.name)?g.givenName:void 0:void 0,null!=d?null!=(h=d.name)?h.familyName:void 0:void 0),new b(null!=d?d._id:void 0,null!=d?d.displayName:void 0,null!=d?d.email:void 0,f,e)}}}])}.call(this),function(){angular.module("bc.admin-role",[]).service("AdminRole",function(){var a,b;return a=function(){function a(a){this.value=null!=a?a:b.RoleValues.InvalidUserRoleValue,this.value=Number(this.value),this.value>=b.MaxRoleValue<<1&&(this.value=0),this.displayRole=b.RoleValueToDisplayRoleMap[this.value]||"Unknown Role"}return a}(),b={RoleValues:{InvalidUserRoleValue:0,RestrictedUserRoleValue:1,StandardUserRoleValue:2,AdminUserRoleValue:4,SuperUserRoleValue:8},FromRoleValue:function(b){return new a(b)},FromDisplayRole:function(a){return b.DisplayRoleToRoleValueMap[a]||b.RoleValues.InvalidUserRoleValue}},b.MaxRoleValue=b.RoleValues.SuperUserRoleValue,b.RoleValueToDisplayRoleMap={},b.RoleValueToDisplayRoleMap[b.RoleValues.InvalidUserRoleValue]="Invalid Role",b.RoleValueToDisplayRoleMap[b.RoleValues.RestrictedUserRoleValue]="Restricted User",b.RoleValueToDisplayRoleMap[b.RoleValues.StandardUserRoleValue]="Standard User",b.RoleValueToDisplayRoleMap[b.RoleValues.AdminUserRoleValue]="Admin User",b.RoleValueToDisplayRoleMap[b.RoleValues.SuperUserRoleValue]="Super User",b.DisplayRoleToRoleValueMap={},angular.forEach(b.RoleValueToDisplayRoleMap,function(a,b){return this[a]=Number(b)},b.DisplayRoleToRoleValueMap),b.Roles={InvalidUserRole:b.FromRoleValue(b.RoleValues.InvalidUserRoleValue),RestrictedUserRole:b.FromRoleValue(b.RoleValues.RestrictedUserRoleValue),StandardUserRole:b.FromRoleValue(b.RoleValues.StandardUserRoleValue),AdminUserRole:b.FromRoleValue(b.RoleValues.AdminUserRoleValue),SuperUserRole:b.FromRoleValue(b.RoleValues.SuperUserRoleValue)},b})}.call(this),function(){angular.module("bc.error-message",[]).service("ErrorMessage",function(){var a,b,c;return c=function(){function a(a){this.errorType="Item",this.errorMessage=a,this.toString=function(){return this.errorMessage}}return a}(),b=function(){function a(a,b){null==a&&(a=""),null==b&&(b=[]),this.errorType="Field",this.errorMessages=b,this.errorFieldId=a.split("/").pop()||"",this.toString=function(){return this.errorMessages.join(", ")}}return a}(),a=function(){function a(b){var c;this.request=(null!=b?b.request:void 0)||{},this.errors="REQUEST_ERROR"===(null!=b?b.result:void 0)?a.ParseSocketErrors(null!=b?b.errors:void 0)||[]:a.ParseServerErrors((null!=b?null!=(c=b.data)?c.errors:void 0:void 0)||(null!=b?b.errors:void 0))||[]}return a.ParseSocketErrors=function(a){var d;return null==a&&(a=[]),d=[],angular.forEach(a,function(a){return"string"==typeof a?this.push(new c(a)):"object"==typeof a?angular.forEach(a,function(a,c){return this.push(new b(c,a))},this):void 0},d),d},a.ParseServerErrors=function(a){var d;return null==a&&(a=[]),d=[],angular.forEach(a,function(a){return"string"==typeof a?this.push(new c(a)):"object"==typeof a?this.push(new b(a.param,[a.msg])):void 0},d),d},a}(),{FromMessage:function(b){return new a(b)},ItemErrorFromMessage:function(a){return new c(a)},FieldErrorFromMessage:function(a,c){return new b(a,c)}}})}.call(this),function(){var a=[].slice;angular.module("bc.logger",[]).service("logger",["CONFIG",function(b){return this.log=function(){var c;return c=1<=arguments.length?a.call(arguments,0):[],b.debug?console.log(c):void 0},this}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("bc.market-info",[]).factory("MarketInfo",function(){var b,c,d,e;return d={},b=function(){function b(b,c){this.priceCurrency=b,this.quantityCurrency=c,this.handleMarketDepthInfo=a(this.handleMarketDepthInfo,this),this.acceptMessage=a(this.acceptMessage,this),this.bidLevels=[],this.askLevels=[]}return b.prototype.acceptMessage=function(a){return"MARKET_DEPTH_INFO"===a.result&&a.price.currency===this.priceCurrency&&a.quantity.currency===this.quantityCurrency?this.handleMarketDepthInfo:void 0},b.prototype.handleMarketDepthInfo=function(a){var b,c,d,e,f,g,h,i,j;return d={price:Number(a.price.amount),quantity:a.quantity},f="bid"===a.parity?[this.bidLevels,function(a){return-a.price}]:[this.askLevels,"price"],c=f[0],e=f[1],Number(d.quantity.amount)>0?(b=_(c).sortedIndex(d,e),(null!=(g=c[b])?g.price:void 0)===d.price?c[b].quantity=d.quantity:(null!=(h=c[b-1])?h.price:void 0)===d.price?c[b-1].quantity=d.quantity:c.splice(b,0,d)):(b=_(c).sortedIndex(d,e),(null!=(i=c[b])?i.price:void 0)===d.price?c.splice(b,1):(null!=(j=c[b-1])?j.price:void 0)===d.price?c.splice(b-1,1):void 0)},b}(),e=function(a,b){return""+a+"|"+b},c=function(a,c){var f;return f=e(a,c),d[f]||(d[f]=new b(a,c)),d[f]},c.clear=function(a,b){var c;return c=e(a,b),delete d[c]},c})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("bc.order-info",[]).factory("OrderInfo",function(){var b;return b=function(){function b(b,c,d,e,f,g){this.id=b,this.offered=c,this.parity=e,this.createdAt=f,this.history=g,this.getPrice=a(this.getPrice,this),this.getRemaining=a(this.getRemaining,this),this.handleEvent=a(this.handleEvent,this),this.processHistory=a(this.processHistory,this),this.processEvent=a(this.processEvent,this),this.parseType=a(this.parseType,this),this.parseType(d),this.processHistory(_(this.history).reverse())}return b.prototype.parseType=function(a){if("market"===a._kind)this.received=a.received;else{if("limit"!==a._kind)throw"Invalid OrderType: "+a;this.price=a.price,this.quantity=a.quantity}return this.offered.amount=this.offered.amount,this.orderType=a._kind},b.prototype.processEvent=function(a,b){var c,d;return this.updatedAt=b,this.status=a._kind||a,"reopened"===a._kind||"filled"===a._kind?((c=this.spent).currency||(c.currency=a.spent.currency),(d=this.earned).currency||(d.currency=a.earned.currency),this.spent.amount+=Number(a.spent.amount),this.earned.amount+=Number(a.earned.amount)):void 0},b.prototype.processHistory=function(){var a=this;return this.spent={amount:0},this.earned={amount:0},_(this.history).each(function(b){return a.processEvent(b.event,b.timestamp)})},b.prototype.handleEvent=function(a){var b;return b=(new Date).getTime(),this.history.unshift({event:a,timestamp:b}),this.processEvent(a,b)},b.prototype.getRemaining=function(){return{currency:this.offered.currency,amount:Number(this.offered.amount)-this.spent.amount}},b.prototype.getPrice=function(){return this.price||(this.earned.amount>0&&this.spent.amount>0?"bid"===this.parity?{currency:this.spent.currency,amount:this.spent.amount/this.earned.amount}:{currency:this.earned.currency,amount:this.earned.amount/this.spent.amount}:void 0)},b.FromMessage=function(a){var c;return c=a.order,new b(c.orderId,c.offered,c.orderType,c.parity,c.createdAt,a._history)},b}.call(this)})}.call(this),function(){angular.module("bc.trade-fee",[]).service("TradeFee",function(){var a,b;return b={Upsert:function(b,c){return a.FromMessage(c)}},a=function(){function a(a,b,c,d,e,f,g){this.id=a,this.createdAt=b,this.feeAmount=c,this.feeRate=d,this.fundedAmount=e,this.orderId=f,this.tradeType=g}return a.FromMessage=function(b){return new a(b._id,b.createdAt,b.feeAmount,b.feeRate,b.fundedAmount,b.orderId,b.tradeType)},a}.call(this),b})}.call(this),function(){angular.module("bc.transaction-info",[]).service("TransactionInfo",function(){var a,b;return b={Upsert:function(b,c){return b?(b.status=c.status,b.history=_(b.history||[]).concat({event:c.status,timestamp:(new Date).getTime()}),b.updateStatus(),b):new a(c._id,c._type,c.fundingSourceId,c.amount,c.status,c._history)}},a=function(){function a(a,b,c,d,e,f){this.id=a,this.type=b,this.fundingSourceId=c,this.orderType=d,this.status=e,this.history=f,this.updateStatus()}return a.prototype.updateStatus=function(){var a,b;return this.isUnconfirmed="Unconfirmed"===this.status,this.isFunded="Funded"===this.status,this.isDeposit="Deposit"===this.type,this.isWithdrawal="Withdrawal"===this.type,this.isFiat="BTC"!==(null!=(a=this.orderType)?a.currency:void 0),this.isBitcoin="BTC"===(null!=(b=this.orderType)?b.currency:void 0)},a}(),b})}.call(this),function(){angular.module("bc.transaction-limit",[]).service("TransactionLimit",function(){var a;return a=function(){function a(a,b,c,d,e){this.amount=null!=a?a:"",this.currency=null!=b?b:"",this.time=null!=c?c:"",this.timeUnit=null!=d?d:"",this.userStatus=null!=e?e:""}return a}(),{FromMessage:function(b){return new a(b.amount,b.currency,b.time,b.timeUnit,b.userStatus)}}})}.call(this),function(){angular.module("bc.user-account-info",["bc.account-resource"]).service("UserAccountInfo",["AccountResource","UserAccountSettings",function(a,b){var c,d,e;return c=function(){function a(a,b,c,d,e,f){this.addressLine1=null!=a?a:"",this.addressLine2=null!=b?b:"",this.city=null!=c?c:"",this.region=null!=d?d:"",this.zipCode=null!=e?e:"",this.country=null!=f?f:""}return a.prototype.toString=function(){var a;return a=this.addressLine1,""!==this.addressLine2&&(a=a+" "+this.addressLine2),a+" "+this.city+" "+this.region+" "+this.zipCode},a.FromMessage=function(b){return new a(null!=b?b.addressLine1:void 0,null!=b?b.addressLine2:void 0,null!=b?b.city:void 0,null!=b?b.region:void 0,null!=b?b.zipCode:void 0,null!=b?b.country:void 0)},a}(),e=function(){function a(a,b,c,d,e,f){this.firstName=null!=a?a:"",this.middleName=null!=b?b:"",this.lastName=null!=c?c:"",this.dateOfBirth=null!=d?d:"",this.birthCountry=null!=e?e:"",this.residencyAddress=f,this.isEmpty=""===this.firstName||""===this.lastName||""===this.dateOfBirth||""===this.birthCountry}return a.prototype.day=function(){var a,b;return a=moment(this.dateOfBirth),(null!=a?null!=(b=a.utc())?b.date():void 0:void 0)||""},a.prototype.year=function(){var a,b;return a=moment(this.dateOfBirth),(null!=a?null!=(b=a.utc())?b.year():void 0:void 0)||""},a.prototype.month=function(){var a,b;return a=moment(this.dateOfBirth),(null!=a?null!=(b=a.utc())?b.format("MMM"):void 0:void 0)||""},a.prototype.dayPad=function(){var a,b;return a=moment(this.dateOfBirth),(null!=a?null!=(b=a.utc())?b.format("DD"):void 0:void 0)||""},a.prototype.monthPad=function(){var a,b;return a=moment(this.dateOfBirth),(null!=a?null!=(b=a.utc())?b.format("MMM - MM"):void 0:void 0)||""},a.prototype.displayDateOfBirth=function(){var a,b;return a=moment(this.dateOfBirth),(null!=a?null!=(b=a.utc())?b.format("MM/DD/YYYY"):void 0:void 0)||""},a.FromMessage=function(b){var d;return d=c.FromMessage(null!=b?b.residencyAddress:void 0),new a(null!=b?b.firstName:void 0,null!=b?b.middleName:void 0,null!=b?b.lastName:void 0,null!=b?b.dateOfBirth:void 0,null!=b?b.birthCountry:void 0,d)},a}(),d=function(){function a(a,b,c){this.userDetails=a,this.accountSettings=null!=b?b:{},this.accountResources=null!=c?c:{},this.ensureVerificationStatus()}return a.prototype.ensureVerificationStatus=function(){return this.idApproved=_.reduce(this.accountResources,function(a,b){return a||b.identity&&b.approved},!1),this.idPending=!this.idApproved&&_.reduce(this.accountResources,function(a,b){return a||b.identity&&b.pending},!1),this.idDenied=!this.idApproved&&!this.idPending&&_.reduce(this.accountResources,function(a,b){return a||b.identity&&b.denied},!1),this.idUnverified=!this.idApproved&&!this.idPending&&!this.idDenied,this.residencyApproved=_.reduce(this.accountResources,function(a,b){return a||b.residency&&b.approved},!1),this.residencyPending=!this.residencyApproved&&_.reduce(this.accountResources,function(a,b){return a||b.residency&&b.pending},!1),this.residencyDenied=!this.residencyApproved&&!this.residencyPending&&_.reduce(this.accountResources,function(a,b){return a||b.residency&&b.denied},!1),this.residencyUnverified=!this.residencyApproved&&!this.residencyPending&&!this.residencyDenied,this.verified=this.idApproved&&this.residencyApproved,this.unverified=this.idUnverified||this.residencyUnverified,this.denied=!this.unverified&&(this.idDenied||this.residencyDenied),this.pending=!this.verified&&!this.unverified&&!this.denied,this.displayVerificationStatus=this.verified?"Verified":this.pending?"Pending":this.denied?"Denied":"Unverified",this.transactionUserStatus=this.confirmed?"accountConfirmed":this.verified?"detailsApproved":this.userDetails.isEmpty?"unverified":"detailsPending"},a.prototype.addAccountResource=function(a){return this.accountResources[a._id]=a,this.ensureVerificationStatus()},a.prototype.deleteAccountResource=function(a){return delete this.accountResources[a],this.ensureVerificationStatus()},a.prototype.displayName=function(){return this.userDetails.firstName+" "+this.userDetails.lastName},a.prototype.fullName=function(){return""===this.userDetails.middleName?this.displayName():this.userDetails.firstName+" "+this.userDetails.middleName+" "+this.userDetails.lastName},a}(),{FromMessage:function(c){var f,g,h;return h=e.FromMessage(null!=c?c.userDetails:void 0),g=b.FromMessage(null!=c?c.accountSettings:void 0),f={},angular.forEach((null!=c?c.accountResources:void 0)||[],function(b){return this[b._id]=a.FromMessage(b)},f),new d(h,g,f)},Empty:function(){return this.FromMessage()}}}])}.call(this),function(){angular.module("bc.user-account-settings",[]).service("UserAccountSettings",function(){var a,b,c;return b=function(){function a(a,b){this.fiatWithdrawalConfirmation=null!=a?a:!0,this.btcWithdrawalConfirmation=null!=b?b:!0}return a.FromMessage=function(b){return new a(null!=b?b.fiatWithdrawalConfirmation:void 0,null!=b?b.btcWithdrawalConfirmation:void 0)},a}(),a=function(){function a(a,b,c,d){this.fiatDepositComplete=null!=a?a:!0,this.btcDepositComplete=null!=b?b:!0,this.bankAccountAdded=null!=c?c:!0,this.fundsWithdrawn=null!=d?d:!0}return a.FromMessage=function(b){return new a(null!=b?b.fiatDepositComplete:void 0,null!=b?b.btcDepositComplete:void 0,null!=b?b.bankAccountAdded:void 0,null!=b?b.fundsWithdrawn:void 0)},a}(),c=function(){function a(a,b){this.security=null!=a?a:{},this.notifications=null!=b?b:{}}return a}(),{FromMessage:function(d){var e,f;return f=b.FromMessage(null!=d?d.security:void 0),e=a.FromMessage(null!=d?d.notifications:void 0),new c(f,e)}}})}.call(this);